{"version":3,"sources":["sass/modules/auth/register.module.scss","pages/auth/Register.jsx"],"names":["module","exports","Register","history","useState","email","setEmail","addToast","useToasts","user","useSelector","state","useEffect","token","push","handleSubmit","e","a","preventDefault","config","url","process","handleCodeInApp","auth","sendSignInLinkToEmail","appearance","autoDismiss","window","localStorage","setItem","className","styles","wrapper","onSubmit","form","type","autoFocus","placeholder","required","value","onChange","target","formButton","to"],"mappings":"gFACAA,EAAOC,QAAU,CAAC,QAAU,0BAA0B,KAAO,uBAAuB,WAAa,+B,4ICkElFC,UAzDf,YAA8B,IAAXC,EAAU,EAAVA,QAAU,EACDC,mBAAS,IADR,mBACpBC,EADoB,KACbC,EADa,KAEnBC,EAAaC,sBAAbD,SAEFE,EAAOC,aAAY,SAAAC,GAAK,OAAEA,KAAOF,KAEvCG,qBAAU,WACLH,EAAKI,OACJV,EAAQW,KAAK,OAEjB,CAACL,IAEH,IAAMM,EAAY,uCAAG,WAAOC,GAAP,eAAAC,EAAA,6DACnBD,EAAEE,iBAGIC,EAAQ,CACZC,IAAMC,2CACNC,iBAAkB,GAND,SASbC,IAAKC,sBAAsBnB,EAAOc,GATrB,OAUnBZ,EAAS,oBAAD,OAAsBF,EAAtB,yCAAoE,CAAEoB,WAAY,UAAWC,aAAY,IAGjHC,OAAOC,aAAaC,QAAQ,uBAAuBxB,GAGnDC,EAAS,IAhBU,2CAAH,sDAmBlB,OACE,qBAAKwB,UAAWC,IAAOC,QAAvB,SACE,sBAAMC,SAAUlB,EAAhB,SACE,sBAAKe,UAAWC,IAAOG,KAAvB,UACE,0CACA,uBACEC,KAAK,QACLL,UAAU,eACVM,WAAS,EACTC,YAAY,SACZC,UAAQ,EACRC,MAAOlC,EACPmC,SAAU,SAACxB,GACTV,EAASU,EAAEyB,OAAOF,UAGtB,wBAAQT,UAAWC,IAAOW,WAAYP,KAAK,SAA3C,qBACA,0DAC2B,cAAC,IAAD,CAAMQ,GAAG,SAAT,SAAkB","file":"static/js/31.79b94a30.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"register_wrapper__vqxz4\",\"form\":\"register_form__nM-1g\",\"formButton\":\"register_formButton__3M6PN\"};","import React, { useState,useEffect } from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport {auth} from \"../../firebase\";\r\nimport { useToasts } from 'react-toast-notifications';\r\n\r\nimport styles from \"../../sass/modules/auth/register.module.scss\"; \r\n\r\n\r\nfunction Register({history}) {\r\n  const [email, setEmail] = useState(\"\");\r\n  const { addToast } = useToasts();\r\n\r\n  const user = useSelector(state=>state).user;\r\n\r\n  useEffect(()=>{\r\n    if(user.token){\r\n        history.push(\"/\")\r\n    }\r\n  },[user])\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    //callback config\r\n    const config ={\r\n      url : process.env.REACT_APP_REGISTER_REDIRECT_URL,\r\n      handleCodeInApp : true\r\n    }\r\n    // ask firebase to send email with registeration link\r\n    await auth.sendSignInLinkToEmail(email, config);\r\n    addToast( `Email is sent to ${email}. click link to complete registration`, { appearance: 'success', autoDismiss:true });\r\n\r\n    //saving email to local storage\r\n    window.localStorage.setItem('emailForRegistration',email);  \r\n\r\n    //clear state\r\n    setEmail('');\r\n  };\r\n\r\n  return (\r\n    <div className={styles.wrapper}>\r\n      <form onSubmit={handleSubmit}>\r\n        <div className={styles.form}>\r\n          <h1>Register</h1>\r\n          <input\r\n            type=\"email\"\r\n            className=\"form-control\"\r\n            autoFocus\r\n            placeholder=\"E-mail\"\r\n            required\r\n            value={email}\r\n            onChange={(e) => {\r\n              setEmail(e.target.value);\r\n            }}\r\n          />\r\n          <button className={styles.formButton} type=\"submit\">Sign up</button>\r\n          <p>\r\n            Already have an account? <Link to=\"/login\"><span>Login</span></Link>\r\n          </p>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n"],"sourceRoot":""}